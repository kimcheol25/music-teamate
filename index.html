<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Lounge | ë‹¹ì‹ ì˜ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="container">
        
        <aside class="sidebar">
            <div class="logo">
                <i class="fa-solid fa-record-vinyl fa-spin-pulse" style="--fa-animation-duration: 3s;"></i>
                <h2>Music<br>Lounge</h2>
            </div>

            <nav class="menu">
                <ul>
                    <li class="active"><a href="index.html"><i class="fa-solid fa-house"></i> í™ˆ</a></li>
                    <li><a href="#genres"><i class="fa-solid fa-music"></i> ì¥ë¥´</a></li>
                    <li><a href="#community"><i class="fa-solid fa-users"></i> ì»¤ë®¤ë‹ˆí‹°</a></li>
                </ul>
            </nav>

<div class="sidebar-search">
    <div class="search-box-mini">
        <input type="text" id="genre-search" placeholder="ì¥ë¥´ ê²€ìƒ‰..." autocomplete="off">
        <button id="search-btn"><i class="fa-solid fa-magnifying-glass"></i></button>
        
        <div id="suggestion-box" class="suggestions-list"></div>
    </div>
</div>

            <div class="mood-section">
                <h3>MOOD</h3>
                <div class="mood-grid">
                    <button class="mood-btn" data-target="genre-hiphop,genre-kpop">ğŸ”¥ ì‹ ë‚˜ëŠ”</button>
                    <button class="mood-btn" data-target="genre-jazz,genre-classic">ğŸŒ™ ì°¨ë¶„í•œ</button>
                    <button class="mood-btn" data-target="genre-ballad,genre-rnb">ğŸ’§ ìš°ìš¸í•œ</button>
                    <button class="mood-btn" data-target="genre-pop,genre-hiphop">ğŸš— ë“œë¼ì´ë¸Œ</button>
                    <button class="mood-btn" data-target="genre-kpop,genre-pop">ğŸ‰ íŒŒí‹°</button>
                    <button class="mood-btn" data-target="genre-classic,genre-jazz">ğŸ’¤ ì ì˜ë•Œ</button>
                </div>
            </div>

            <div class="bottom-widgets">
                <div class="digital-clock-container">
                    <div id="digital-clock">00:00:00</div>
                    <div id="date-display"></div>
                </div>
            </div>
        </aside>

<main class="main-content">
            
            <header class="banner music-vibe">
                <div class="banner-content">
                    <h1>Rhythm of Your Life</h1>
                    <p>ë‹¹ì‹ ì˜ í•˜ë£¨ë¥¼ ì™„ì„±í•  í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ì§€ê¸ˆ ë§Œë‚˜ë³´ì„¸ìš”.</p>
                    <button id="play-chart-btn" class="cta-btn">
                        <i class="fa-solid fa-play"></i> ì¸ê¸° ì°¨íŠ¸ ë“£ê¸°
                    </button>
                </div>
                <div class="banner-deco">
                    <i class="fa-solid fa-music note-1"></i>
                    <i class="fa-solid fa-music note-2"></i>
                    <i class="fa-solid fa-headphones note-3"></i>
                </div>
            </header>

<div class="genre-grid" id="genres">
                    <a href="kpop.html" class="genre-card" id="genre-kpop">
                        <i class="fa-solid fa-k"></i> <h3>K-POP</h3> <p>Global Trend</p>
                    </a>
                    <a href="pop.html" class="genre-card" id="genre-pop">
                        <i class="fa-regular fa-star"></i> <h3>POP</h3> <p>World Best</p>
                    </a>
                    <a href="hiphop.html" class="genre-card" id="genre-hiphop">
                        <i class="fa-solid fa-hand-peace"></i> <h3>HIP-HOP</h3> <p>Drop the Beat</p>
                    </a>
                    <a href="ballad.html" class="genre-card" id="genre-ballad">
                        <i class="fa-solid fa-guitar"></i> <h3>ë°œë¼ë“œ</h3> <p>Emotional</p>
                    </a>
                    <a href="rnb.html" class="genre-card" id="genre-rnb">
                        <i class="fa-solid fa-microphone-lines"></i> <h3>R&B</h3> <p>Soul & Groove</p>
                    </a>
                    
                    <a href="jazz.html" class="genre-card" id="genre-jazz">
                        <i class="fa-solid fa-compact-disc"></i> <h3>ì¬ì¦ˆ</h3> <p>Swing & Blue</p>
                    </a>

                    <a href="trot.html" class="genre-card" id="genre-trot">
                        <i class="fa-solid fa-star"></i> <h3>íŠ¸ë¡œíŠ¸</h3> <p>Korea Soul</p>
                    </a>
                    <a href="classic.html" class="genre-card" id="genre-classic">
                        <i class="fa-solid fa-music"></i> <h3>í´ë˜ì‹</h3> <p>Masterpiece</p>
                    </a>
                </div>
            </section>

            <div class="bottom-dashboard">
                
                <div class="dashboard-col spotify-col" id="spotify-player">
                    <div class="col-header">
                        <h3><i class="fa-brands fa-spotify"></i> Now Trending</h3>
                    </div>
                    <div class="iframe-container">
                        <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/37i9dQZEVXbMDoHDwVN2tF?utm_source=generator&theme=0" width="100%" height="100%" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                    </div>
                </div>

                <div class="right-widgets-col">
                    
                    <div class="dashboard-col request-col" id="community">
                        <div class="col-header"><h3><i class="fa-solid fa-comments"></i> ì‹ ì²­ê³¡ & ìˆ˜ë‹¤ë°©</h3></div>
                        <div class="chat-box">
                            <input type="text" placeholder="ì‹ ì²­ê³¡ ì œëª©..." class="request-input">
                            <textarea placeholder="í•  ë§ì„ ë‚¨ê²¨ì£¼ì„¸ìš”." rows="4" class="request-area"></textarea>
                            <button class="submit-btn">ë“±ë¡í•˜ê¸°</button>
                        </div>
                    </div>

                    <div class="dashboard-col ai-col">
                        <div class="col-header"><h3><i class="fa-solid fa-robot"></i> AI DJ ì¶”ì²œ</h3></div>
                        <div class="ai-box">
                            <div class="ai-input-row">
                                <input type="text" id="ai-input" placeholder="ì˜ˆ: ë¹„ì˜¤ëŠ” ë‚ ">
                                <button id="ai-btn"><i class="fa-solid fa-wand-magic-sparkles"></i></button>
                            </div>
                            <div id="ai-result" class="ai-result-card" style="display: none;">
                                <p class="recommend-text">ì¶”ì²œ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>
                                <a href="#" id="yt-link" target="_blank">ë“£ê¸° â†’</a>
                            </div>
                        </div>
                    </div>

                </div> </div> </main>
    </div>

    <div id="theme-toggle" class="floating-theme-btn">
        <i class="fa-solid fa-moon"></i>
    </div>

    <script src="script.js"></script>
<script>
    // 1. ë°ì´í„° ì •ì˜ (ì´ì „ê³¼ ë™ì¼)
    const musicPages = [
        { file: 'KPOP.html', keywords: ['ì¼€ì´íŒ', 'kpop', 'k-pop', 'ê°€ìš”'] },
        { file: 'pop-rock.html', keywords: ['íŒ', 'pop', 'íŒì†¡'] },
        { file: 'hiphop.html', keywords: ['í™í•©', 'hiphop', 'hip-hop'] },
        { file: 'ballad.html', keywords: ['ë°œë¼ë“œ', 'ballad'] },
        { file: 'jazz.html', keywords: ['ì¬ì¦ˆ', 'jazz'] },
        { file: 'classic.html', keywords: ['í´ë˜ì‹', 'classic'] },
        { file: 'kpop-idol.html', keywords: ['ì•„ì´ëŒ', 'idol'] },
        { file: 'kpop-dance.html', keywords: ['ëŒ„ìŠ¤', 'dance'] },
        { file: 'kpop-ballad.html', keywords: ['ì¼€ì´íŒ ë°œë¼ë“œ', 'kpop ballad'] },
        { file: 'kpop-classic.html', keywords: ['ì¼€ì´íŒ í´ë˜ì‹'] },
        { file: 'jazz-swing.html', keywords: ['ìŠ¤ìœ™', 'swing'] },
        { file: 'jazz-bebop.html', keywords: ['ë¹„ë°¥', 'bebop'] },
        { file: 'jazz-fusion.html', keywords: ['í“¨ì „', 'fusion'] },
        { file: 'jazz-cool.html', keywords: ['ì¿¨ì¬ì¦ˆ', 'cool jazz'] },
        { file: 'hiphop-boom-bap.html', keywords: ['ë¶ë±', 'boom bap'] },
        { file: 'hiphop-trap.html', keywords: ['íŠ¸ë©', 'trap'] },
        { file: 'hiphop-melodic.html', keywords: ['ë©œë¡œë”•', 'melodic'] },
        { file: 'hiphop-oldschool.html', keywords: ['ì˜¬ë“œìŠ¤ì¿¨', 'oldschool'] },
        { file: 'ballad-rock.html', keywords: ['ë½ë°œë¼ë“œ', 'rock ballad'] },
        { file: 'ballad-rnb.html', keywords: ['ì•Œì•¤ë¹„', 'rnb', 'r&b'] },
        { file: 'ballad-indie.html', keywords: ['ì¸ë””', 'indie'] },
        { file: 'ballad-traditional.html', keywords: ['ì •í†µ ë°œë¼ë“œ', 'traditional'] },
        { file: 'classic-baroque.html', keywords: ['ë°”ë¡œí¬', 'baroque'] },
        { file: 'classic-romantic.html', keywords: ['ë‚­ë§Œ', 'romantic'] },
        { file: 'classic-modern.html', keywords: ['í˜„ëŒ€', 'modern'] },
        { file: 'pop-dance.html', keywords: ['íŒëŒ„ìŠ¤', 'pop dance'] },
        { file: 'pop-indie.html', keywords: ['íŒì¸ë””', 'pop indie'] },
        { file: 'trot.html', keywords: ['íŠ¸ë¡œíŠ¸', 'trot'] }
    ];

    const searchInput = document.getElementById('genre-search');
    const suggestionBox = document.getElementById('suggestion-box');
    const searchBtn = document.getElementById('search-btn');

    // 2. ê²€ìƒ‰ ì‹¤í–‰ í•¨ìˆ˜ (í˜ì´ì§€ ì´ë™)
    function performSearch(query) {
        if (!query) {
            query = searchInput.value.toLowerCase().trim().replace(/\s+/g, '');
        } else {
            query = query.toLowerCase().trim().replace(/\s+/g, '');
        }

        if (query === "") {
            alert("ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!");
            return;
        }

        const result = musicPages.find(page => 
            page.keywords.some(keyword => keyword.replace(/\s+/g, '').includes(query))
        );

        if (result) {
            window.location.href = result.file;
        } else {
            alert("í•´ë‹¹í•˜ëŠ” ì¥ë¥´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
    }

    // 3. ì¶”ì²œ ê²€ìƒ‰ì–´ í‘œì‹œ í•¨ìˆ˜ (í•µì‹¬ ê¸°ëŠ¥)
    function showSuggestions() {
        const query = searchInput.value.toLowerCase().trim();
        suggestionBox.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”

        if (query.length < 1) {
            suggestionBox.style.display = 'none';
            return;
        }

        // ì…ë ¥ëœ ë‹¨ì–´ê°€ í¬í•¨ëœ í‚¤ì›Œë“œ ì°¾ê¸°
        let matches = [];
        musicPages.forEach(page => {
            page.keywords.forEach(keyword => {
                if (keyword.toLowerCase().includes(query)) {
                    // ì¤‘ë³µ ë°©ì§€ ë° ê°ì²´ í˜•íƒœë¡œ ì €ì¥
                    matches.push({ text: keyword, file: page.file });
                }
            });
        });

        // ê²°ê³¼ê°€ ìˆìœ¼ë©´ ëª©ë¡ ë³´ì—¬ì£¼ê¸°
        if (matches.length > 0) {
            suggestionBox.style.display = 'block';
            
            // ì¤‘ë³µ ì œê±° (Set ì‚¬ìš©) - ê°™ì€ í‚¤ì›Œë“œê°€ ì—¬ëŸ¬ ë²ˆ ëœ¨ëŠ” ê²ƒ ë°©ì§€
            const uniqueMatches = [...new Map(matches.map(item => [item.text, item])).values()];

            uniqueMatches.forEach(match => {
                const div = document.createElement('div');
                div.classList.add('suggestion-item');
                div.innerHTML = `<i class="fa-solid fa-music"></i> ${match.text}`; // ì•„ì´ì½˜ + í…ìŠ¤íŠ¸
                
                // ëª©ë¡ í´ë¦­ ì‹œ ë°”ë¡œ ì´ë™
                div.onclick = () => {
                    searchInput.value = match.text; // í´ë¦­í•œ í…ìŠ¤íŠ¸ë¥¼ ê²€ìƒ‰ì°½ì— ë„£ê³ 
                    window.location.href = match.file; // í˜ì´ì§€ ì´ë™
                    suggestionBox.style.display = 'none';
                };
                
                suggestionBox.appendChild(div);
            });
        } else {
            suggestionBox.style.display = 'none';
        }
    }

    // 4. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì—°ê²°
    document.addEventListener('DOMContentLoaded', () => {
        
        // íƒ€ì´í•‘ í•  ë•Œë§ˆë‹¤ ì¶”ì²œ ëª©ë¡ ê°±ì‹ 
        if (searchInput) {
            searchInput.addEventListener('input', showSuggestions);
            
            // ì—”í„°í‚¤ ëˆ„ë¥´ë©´ ë°”ë¡œ ê²€ìƒ‰
            searchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    suggestionBox.style.display = 'none'; // ì—”í„°ì¹˜ë©´ ëª©ë¡ ë‹«ê¸°
                    performSearch();
                }
            });
        }

        // ë‹ë³´ê¸° ë²„íŠ¼ í´ë¦­
        if (searchBtn) {
            searchBtn.addEventListener('click', () => performSearch());
        }

        // í™”ë©´ì˜ ë‹¤ë¥¸ ê³³ì„ í´ë¦­í•˜ë©´ ëª©ë¡ ë‹«ê¸°
        document.addEventListener('click', (e) => {
            if (!searchInput.contains(e.target) && !suggestionBox.contains(e.target)) {
                suggestionBox.style.display = 'none';
            }
        });
    });
</script>
</body>
</html> 